# 符号全半角使用分析报告

**分析日期**：2026-01-16
**分析目的**：了解不同数据源的全半角使用习惯，评估对数据关联的影响

---

## 一、核心结论

### 1.1 数据关联安全性 ✅

| 对比项 | 结果 | 影响 |
|--------|------|------|
| 学校名称匹配 | **2827/2827 (100%)** | ✅ 无影响 |
| 全半角一致性 | **完全一致** | ✅ 无影响 |

**结论**：招生章程文件中的学校名称与details/文件夹中的文件名全半角使用完全一致，通过学校名称关联数据**不会出现匹配问题**。

---

### 1.2 三大数据源使用习惯

| 数据源 | 符号特征 | 典型场景 |
|--------|---------|----------|
| 教育部名单 | 100%全角 | 官方文件，严格遵循中文规范 |
| 招生章程基本信息 | 95%半角 | 技术数据（URL、代码） |
| 招生章程内容 | 90%全角 | 正式公文，中文书写规范 |

---

## 二、字段级别分析

### 2.1 学校名称字段

| 数据源 | 全角括号 | 半角括号 | 示例 |
|--------|---------|---------|------|
| 教育部名单 | 16次 (100%) | 0 | 中国矿业大学（北京） |
| 招生章程 | 0 | 42次 (100%) | 中国矿业大学(北京) |
| **MD文件名** | 0 | **42次 (100%)** | **中国矿业大学(北京).md** |

**关键发现**：
- ✅ 招生章程文件与MD文件完全一致（都用半角括号）
- ⚠️ 与教育部名单不一致（全角 vs 半角）
- 💡 数据关联时，如需匹配教育部名单，需进行全半角转换

### 2.2 其他字段对比

| 字段 | 教育部名单 | 招生章程 | 差异性质 |
|------|-----------|---------|---------|
| 主管部门 | 全角括号（8次） | 无括号 | 不一致 |
| 办学层次 | 无括号 | **半角括号（3,060次）** | **最显著差异** |
| 省份 | 无该字段 | 无符号 | - |
| 城市 | 无该字段 | 无符号 | - |
| 院校特性 | 无该字段 | 无符号 | - |

---

## 三、为何全半角使用不同？

### 3.1 数据来源决定使用习惯

| 数据类型 | 全角比例 | 原因 |
|---------|---------|------|
| **纯文本内容** | 90%+ | 中文书写规范 |
| **技术数据** | 5% | URL、代码格式 |
| **结构化数据** | 50% | 混合场景 |

### 3.2 具体案例分析

**案例1：办学层次的半角括号**

```
教育部名单：本科 / 高职专科
招生章程：本科 / 高职(专科)
```

- **原因**：`高职(专科)` 是技术系统的标准格式
- **影响**：涉及1,530所院校（52.4%）
- **建议**：保留半角括号，不转换

**案例2：学校名称的括号差异**

```
教育部名单：中国矿业大学（北京）
招生章程：中国矿业大学(北京)
MD文件：  中国矿业大学(北京).md
```

- **原因**：
  - 教育部遵循《党政机关公文格式》GB/T 9704-2012
  - 阳光高考网是Web系统，使用技术标准
- **影响**：跨数据源匹配时需转换

**案例3：主管部门的双重归属**

```
教育部名单：交通运输部（中国民用航空局）
招生章程：中国民用航空局
```

- **原因**：教育部标注双重主管部门，阳光高考网简化显示
- **涉及**：3所民航院校

---

## 四、数据关联影响评估

### 4.1 内部关联（项目内） ✅

| 关联场景 | 结果 | 说明 |
|---------|------|------|
| 招生章程 ↔ MD文件 | **2827/2827 (100%)** | 全半角完全一致 |
| 招生章程 ↔ tables/ | **800/800 (100%)** | 全半角完全一致 |
| 学校名称 ↔ 内容标题 | **2783/2827 (98.44%)** | 44所标题简化 |

**结论**：项目内部数据关联**基本不受全半角影响**，仅1.56%存在标题不一致问题。

### 4.2 内容标题不一致分析

| 类型 | 数量 | 占比 | 示例 |
|------|------|------|------|
| 括号相关差异 | **7所** | 0.25% | 华北电力大学(北京) → 华北电力大学... |
| 标题过于简化 | 37所 | 1.31% | 山西药科职业学院 → 2025年招生章程 |

**括号相关差异的7所学校详细说明**：

**差异对比**：Excel"学校名称"列 vs "招生章程内容"列中的标题

| Excel学校名称 | 内容标题 | 差异类型 |
|--------------|---------|---------|
| 华北电力大学(北京) | 华北电力大学2025年... | 标题缺少分校标识 |
| 华北电力大学(保定) | 华北电力大学2025年... | 标题缺少分校标识 |
| 大连理工大学(盘锦校区) | 大连理工大学2025年... | 标题缺少校区标识 |
| 上海旅游高等专科学校 | ...（秋季统一高考） | Excel用半角，标题用全角 |
| 上海工商职业技术学院 | ...（秋季统一高考） | Excel用半角，标题用全角 |
| 上海第二工业大学 | ...（秋季统一高考） | Excel用半角，标题用全角 |
| 上海建设管理职业技术学院 | ... （秋季统一高考） | Excel用半角，标题用全角 |

**关键发现**：
- ✅ 这7所学校的差异**不影响数据关联**（因为通过Excel行号匹配，不依赖标题匹配）
- ⚠️ 如需通过**内容搜索学校**，需要处理全半角差异（见下一节）

### 4.3 外部关联（跨项目） ⚠️

| 关联场景 | 潜在问题 | 解决方案 |
|---------|---------|----------|
| 招生章程 ↔ 教育部名单 | 括号全半角不匹配 | **方案1**：转换全半角<br>**方案2**：模糊匹配 |
| 阳光高考网 ↔ 教育部名单 | 分校标识方式不同 | 规范化处理（如括号） |

**转换函数示例**：

```python
def normalize_school_name(name):
    """标准化学校名称（全半角转换）"""
    # 全角转半角
    name = name.replace('（', '(').replace('）', ')')
    name = name.replace('，', ',').replace('。', '.')
    name = name.replace('：', ':').replace('；', ';')
    return name.strip()

def match_school(name, school_list):
    """匹配学校名称（支持全半角）"""
    # 精确匹配
    if name in school_list:
        return name

    # 标准化后匹配
    normalized = normalize_school_name(name)
    for school in school_list:
        if normalize_school_name(school) == normalized:
            return school

    return None
```

### 4.4 处理建议

| 操作 | 是否需标准化 | 说明 |
|------|-----------|------|
| 读取MD文件 | ❌ 不需要 | 文件名与Excel完全一致 |
| 内容中搜索学校名 | ✅ 需要 | 标题可能用全角括号 |
| 匹配教育部名单 | ✅ 需要 | 教育部用全角，需转半角 |
| Excel内部筛选 | ❌ 不需要 | 内部数据全半角一致 |

---

## 五、实践建议

### 5.1 数据合并原则

**不强制统一全半角**：

| 字段类型 | 处理方式 | 原因 |
|---------|---------|------|
| 学校名称 | **保持原样** | MD文件名匹配需要一致性 |
| 办学层次 | **保持原样** | `高职(专科)` 是标准格式 |
| 主管部门 | **保持原样** | 详细程度不同，各有价值 |
| URL字段 | **保持半角** | 技术要求 |
| 文本字段 | **保持全角** | 中文规范 |

### 5.2 数据关联策略

**内部关联（推荐）**：
```python
# 直接使用学校名称匹配，无需转换
school_name = df['学校名称']
md_file = f"details/{school_name}.md"
```

**外部关联（教育部名单）**：
```python
# 使用标准化函数
normalized_name = normalize_school_name(df['学校名称'])
matched = match_edu_list(normalized_name)
```

### 5.3 数据质量验证

**检查清单**：

| 检查项 | 通过标准 |
|--------|----------|
| 学校名称匹配率 | 2827/2915 (97.0%) |
| 全半角一致性 | 招生章程 ↔ MD文件 100% |
| MD文件存在性 | 2827/2915 (97.0%) |
| 缺失MD文件 | 88所（无章程内容） |

---

## 六、附录

### 6.1 数据统计汇总

**学校名称全半角对比**：

| 类型 | 教育部名单 | 招生章程 | MD文件 |
|------|-----------|---------|--------|
| 总数 | 2,919所 | 2,915所 | 2,827个 |
| 全角括号 | 16次 | 0 | 0 |
| 半角括号 | 0 | 42次 | 42次 |
| 一致性 | - | ✅ 100% | ✅ 100% |

**其他字段符号使用**：

| 字段 | 教育部名单 | 招生章程 | 说明 |
|------|-----------|---------|------|
| 办学层次 | 无括号 | 3,060对半角括号 | `高职(专科)` |
| 主管部门 | 8对全角括号 | 无 | 双重主管部门标注 |
| 省份 | 无该字段 | 无符号 | 纯文本 |
| 城市 | 无该字段 | 无符号 | 纯文本 |
| 院校特性 | 无该字段 | 无符号 | 纯文本 |

### 6.2 全角半角转换对照表

| 全角符号 | 半角符号 | 说明 |
|---------|---------|------|
| （ | ( | 括号 |
| ） | ) | 括号 |
| ， | , | 逗号 |
| 。 | . | 句号 |
| ： | : | 冒号 |
| ； | ; | 分号 |
| 、 | - | 顿号（无半角） |

### 6.3 内容标题匹配统计

| 统计项 | 结果 | 说明 |
|--------|------|------|
| 总分析学校数 | 2827所 | 有内容的学校 |
| 标题匹配成功 | 2783所 (98.44%) | 学校名称在内容标题中 |
| 标题不匹配 | 44所 (1.56%) | 需要通过Excel行号关联 |
| 括号相关不匹配 | 7所 (0.25%) | 分校标识或全半角差异 |

### 6.4 分析脚本

**全量符号分析**：`scripts/analyze_symbol_usage.py`
**字段级别分析**：`scripts/analyze_field_symbols.py`
**内容标题匹配分析**：已内嵌至本报告

---

**报告生成时间**：2026-01-16
**关键发现**：
- ✅ 项目内部数据关联不受全半角影响
- ⚠️ 跨项目（教育部名单）关联需转换
- 💡 建议使用标准化函数处理全半角差异
