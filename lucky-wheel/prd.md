“幸运转盘”Web App需求文档

1. 产品概述

1.1 产品简介
“幸运转盘”是一个轻量级的web应用工具。它允许用户快速创建一个自定义的、带有权重的转盘游戏，用于决策、抽奖或娱乐。其核心特点是：用户可以将最终配置好的“游戏界面”保存为一个独立的、可离线运行的HTML文件，以便分享或重复使用。

1.2 目标用户
决策困难者：需要在多个选项（如“吃什么”、“玩什么”）中进行随机选择的个人。
活动组织者：需要一个简单、可视化的抽奖工具（如年会抽奖、直播抽奖）的个人或小团体。
普通娱乐用户：希望制作一个趣味转盘游戏与朋友分享的人。

1.3 核心价值
高度自定义：用户完全掌控转盘的标题、选项内容及每个选项的“中奖概率”（权重）。
即时可玩：提供“配置”与“游玩”的即时切换，所见即所得
极致便携：可将最终的转盘“打包“成一个单HTML文件，无需服务器、无需联网，在任何浏览器中即可打开游玩。

2. 功能需求（PRD）

2.1 阶段一：转盘配置界面（“建造者”界面）
这是用户打开应用时看到的第一个界面。

FR-1.1: 转盘标题
需求：必须提供一个输入框，允许用户自定义整个转盘的标题。
示例：用户输入“今晚吃什么？”或“团队周五下午茶”。
约束：如果用户未输入，可提供一个默认标题（如“我的幸运转盘”）。

FR-1.2: 选项与权重管理
需求：必须有一个动态列表区域，用于管理转盘的各个选项。

FR-1.2.1 添加选项：用户必须能添加新的选项条目。
FR-1.2.2 删除选项：用户必须能删除任意一个已存在的选项条目。
FR-1.2.3 选项内容：每个选项条目必须包含一个名称输入框（如“火锅”）和一个权重输入框（一个数字）。
FR-1.2.4 权重逻辑：“权重”是一个相对值，非百分比。权重越高的选项，在转盘上占据的视觉面积越大，被抽中的概率也越高。

FR-1.3: 权重均分操作
需求：必须在选项列表附近提供一个“权重均分”按钮。
功能：用户点击此按钮后，系统中所有已存在选项的“权重”值将自动被设置为 1。

FR-1.4: 主题选择
需求：必须提供至少3种预设的“主题”供用户选择。
功能：“主题”仅影响“游戏界面”的配色方案（如背景色、扇区颜色、文字颜色）。
示例：“暗黑模式”、“清新马卡龙”、“赛博朋克”。
约束：用户必须选择一个主题，系统应提供一个默认选中的主题。

FR-1.5: 生成转盘
需求：界面中必须有一个清晰的、主要的“生成转盘”按钮。
功能: 用户点击此按钮后，系统会根据用户当前配置的所有信息(标题、选项列表、权重、主题)，在当前页面以“全屏模态窗口"的形式打开“转盘游玩界面”(阶段二)。
约束：此操作不应刷新或跳转页面。

2.2 阶段二：转盘游戏界面（“玩家”界面 - 模态窗口）
这个界面是用户点击“生成转盘”后弹出的全屏模态窗口。它也是最终保存的HTML文件的内容。

FR-2.1: 界面展示
需求：必须清晰地显示用户在阶段一配置的标题。
需求：必须根据用户的配置（选项、权重、主题）渲染一个可视化的转盘。
转盘的各个扇区必须依据“权重”按比例分配大小。
转盘的配色方案必须符合用户选择的“主题”
需求：必须有一个清晰的指针，用于指示最终抽中的结果。

FR-2.2: 旋转功能
需求：界面中必须有一个“开始”按钮。
功能：用户点击“开始”后：
转盘开始执行旋转动画(应有先快后慢的缓动效果)
动画停止后，指针指向一个结果扇区。
系统应高亮或以弹窗形式告知用户“最终抽中”的结果。
逻辑：抽奖结果需严格按照用户设定的“权重”比例来决定概率。

FR-2.3: 保存功能
需求：游戏界面中必须提供一个“保存”按钮。
功能：用户点击“保存”后，系统应触发浏览器的下载操作。
产物：下载的文件是一个 .html 格式的单个文件（详见2.3阶段三）。

FR-2.4: 关闭功能
需求：游戏界面中必须提供一个“关闭”按钮（清晰的“X”图标）。
功能：用户点击后，关闭全屏模态窗口，并返回到“转盘配置界面”（阶段一），配置内容应保持不变。

2.3 阶段三：独立的转盘文件（HTML）
这是用户在阶段二点击“保存”后获得的产物。

FR-3.1: 文件独立性
需求：这个.html文件必须是完全自包含的。
约束：它不能依赖任何外部的样式、脚本或图片文件。必须能在离线状态下正常运行。

FR-3.2: 功能一致性
需求：用户在浏览器中打开此.html文件时，看到的界面和功能必须与“转盘游戏界面”（阶段二）完全一致。
功能：必须包含完整的转盘、主题、旋转动画和权重抽奖的逻辑。

FR-3.3: 不可配置性
需求：这个.html文件是“转盘游戏”的最终产物，它不包含“转盘配置界面”（阶段一）。
约束：打开此.html文件的用户只能“游玩”已配置好的转盘，无法修改其标题、选项或主题。

3. 需求全景图（用户流程）
graph TD
    A[用户打开应用] --> B(阶段一:配置界面);
    B --> C[1.输入标题];
    B --> D[2.管理选项与权重];
    D --> E[点击"权重均分"按钮];
    B --> F[3.选择主题];
    C & E & F --> G[点击"生成转盘"];

    G --> H{阶段二:游玩界面(模态窗口)};

    H --> I[点击"开始“];
    I --> J[转盘旋转并停止];
    J --> K[显示结果];
    K --> I;

    H --> L[点击"保存”];
    L --> M(下载 独立的.html 文件);

    H --> N[点击"关闭"];
    N --> B;

    subgraph 独立流程
        O[用户打开已下载的.html文件] --> P{阶段三:独立的游玩界面};
        P --> Q[点击"开始"];
        Q --> R[转盘旋转并停止];
        R --> S[显示结果];
        S --> Q;
    end